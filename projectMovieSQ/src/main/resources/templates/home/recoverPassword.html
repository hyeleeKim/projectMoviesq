<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>[Moviesq] 비밀번호 재설정 </title>
    <script th:if="${result == null}">
        alert('유효하지 않은 접근입니다.');
        window.close();
    </script>
    <script th:if="${result != null && result.equals('failure')}">
        alert('올바르지 않은 접근이거나 더 이상 유효하지 않은 접근입니다.');
        window.close();
    </script>
    <script th:if="${result != null && result.equals('failure_expired')}">
        alert('링크가 만료되어 더 이상 유효하지 않습니다.');
        window.close();
    </script>
    <script defer th:src="@{/resources/scripts/recoverPassword.js}"></script>
    <link rel="stylesheet" th:href="@{/resources/stylesheets/common.css}">
</head>
<body th:if="${result != null}">
<form style="width: 30rem;  box-sizing: border-box; position:absolute;   padding: 2.5rem;    align-items: stretch;    display: flex;flex-direction: column; justify-content: center; left: 50%; top: 50%; transform: translate(-50%,-50%);"
      id="recoverForm">
    <div style="font-size: 1.3rem;  font-weight: 600;    border-bottom: 0.25rem solid #74ccd4;    text-align: center;    padding-bottom: 0.5rem;
    display: flex;    align-items: center;    justify-content: space-evenly;}">
        <img style="width: 20%;" src="/resources/images/logo.png">
        <span>비밀번호 재설정</span>
    </div>
    <input hidden name="email" type="hidden" th:value="${recoverPasswordCode.getEmail()}">
    <input hidden name="code" type="hidden" th:value="${recoverPasswordCode.getCode()}">
    <input hidden name="salt" type="hidden" th:value="${recoverPasswordCode.getSalt()}">
    <label style="align-items: stretch;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;" class="label password">
        <span style="font-size: 0.8rem; margin: 2rem 0 0.5rem 0;" class="subtitle">비밀번호</span>
        <input style="border: unset;  border-bottom: 0.0125rem solid #727272; padding: 0.5rem;    background: none; color: grey;"
               type="password" class="_object-input input password" maxlength="20" name="password"
               placeholder="새로운 비밀번호를 입력해 주세요.">
    </label>
    <label style="align-items: stretch; display: flex;    flex-direction: column;    justify-content: flex-start;"
           class="label">
        <span style="font-size: 0.8rem; margin: 2rem 0 0.5rem 0;" class="subtitle">비밀번호 확인</span>
        <input style="border: unset;  border-bottom: 0.0125rem solid #727272; padding: 0.5rem;    background: none; color: grey;"
               class="_object-input input" maxlength="50" name="passwordCheck" placeholder="비밀번호를 한번 더 입력해 주세요."
               type="password">
    </label>
    <input style="height: 2.5rem; font-size: 1rem; font-weight: 600;    border-radius: 0.5rem;    color: white;
      margin-top: 4rem;     border: unset;  cursor: pointer; background-color: #462d82;
    padding: 0.6rem 0.8rem;" type="submit" class="_object-button _color-concept" value="비밀번호 수정">
</form>
</body>
</html>